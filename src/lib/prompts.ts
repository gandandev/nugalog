import { formatStudentLogs } from './utils'
import dedent from 'dedent'
import type { Student } from './stores'

export const getHangbalPrompt = (
  student: Student,
  outputExample: string,
  extraInfo: string
) => dedent`
  초등학생 교사로서 날짜별 행동 기록 (누가기록)을 보고 총체적으로 학생을 이해할 수 있는 행동특성 및 발달사항 (행발)을 작성하세요. 다양한 분야의 변화와 성장 등을 종합적, 구체적으로 기재하세요.

  # 지시사항

  - 줄바꿈 없이 한 문단으로 공백 포함 **200-300자 내외**로 작성하세요. 한 문장은 공백 포함 50-100자로 작성하세요.
  - 그, 그녀, 학생 등의 주어 없이 작성하세요.
  - 수식어를 많이 사용하세요.
  - **부정적 내용은 다음을 참고해 반드시 개선 방향 및 가능성과 함께 긍정적으로 완곡하게 작성하세요.**
      - 고집이 셈 → 타인의 말에 흔들리지 않고 자신의 소신을 끝까지 밀고 나가는 결단력이 뛰어남.
      - 친구랑 자주 싸움 → 자신만의 논리를 펼치며 친구들과 대화하는 것을 즐기는 등 현대사회에서 필요한 민주시민으로서의 자질을 갖춤.
      - 말이 거침 → 완곡하고 유화적인 언어 사용으로 부드러운 모습을 보인다면 균형 있는 모습으로 성장이 기대됨.
      - 거짓말을 잘함 → 상상력이 풍부하여 이야기 지어내는 것을 좋아하며 이에 심취하는 몰입력이 남다름.
  - 활동함, 표현함, 발표함, 제작함, 씀, 앎 등의 어미를 사용하세요.
  - 아래 예시를 참고하세요.

  # 답변 형식

  다음 형식을 따라 답변하세요.
  
  > 작성된 행발

  ### 다른 표현 제안

  - 사용할 수 있는 다른 표현들 몇 가지 (따옴표 없이)

  # 기록

  ${formatStudentLogs(student.name, student.logs, {
  markdown: true,
  includeName: false
})}
  ${extraInfo ? `\n**추가 정보**: ${extraInfo}\n` : ''}
  # 행발 예시

  ## 예시 1

  > 말과 행동이 침착하고 사려가 깊으며 자신의 이야기를 진솔하게 이야기하는 솔직한 모습을 지님. 어른들에게 인사성이 바르고 겸손하며 모범이 되며 특히 교사의 지도와 조언을 경청하고 수용하려는 자세가 돋보임. 학급의 쾌적한 환경 조성을 위한 청소 활동에 자발적으로 참여하고 남들이 꺼리는 일들을 마다하지 않고 솔선수범하는 모습을 보임으로써 봉사 정신과 배려심을 엿볼 수 있음. 매사에 긍정적이며 늘 밝은 표정으로 즐겁게 학교생활에 임함.

  ### 다른 표현 제안

  - 감수성이 풍부하여 글쓰기와 발표에서 창의적이고 인상 깊은 성과를 보여줌.
  - 교내외 다양한 활동에 적극적으로 참여하며 특히 과학 분야에서 탐구력과 창의성을 발휘함.
  - 타인을 배려하는 따뜻한 마음과 책임감 있는 태도로 학급 임원으로서의 역할을 충실히 수행함.
  - 꾸준한 독서 활동을 통해 풍부한 지식을 쌓고 이를 학습 활동에 효과적으로 활용함.

  ## 예시 2

  > 무엇이 옳고 무엇이 옳지 않은지 판단할 수 있고 주위 환경에 쉽게 휩쓸리기보다 자신의 주관에 따라 판단하고 행동하는 결단력이 있음. 발표력이 뛰어난 학생으로 자신의 생각이나 상황을 논리적이고 정확하게 설명할 줄 앎. 어려운 문제에 부딪혔을 때 포기하지 않고 기지를 발휘해 자신만의 독창적인 방법으로 문제를 해결하는 모습이 돋보임. 특히 역사 분야에 관심이 있어 높은 흥미와 적극성을 보였으며, 관련 분야의 책을 많이 읽어 상식이 풍부한 편임. 가족과 친구를 사랑하고 굳센 성격과 높은 자립심으로 어려운 상황에서도 극복하기 위해 열심히 노력하는 모습을 보이며 이를 통해 지속적으로 성장하는 모습을 보임. 완곡하고 유화적인 언어 사용으로 부드러운 모습을 보인다면 균형 있는 모습으로 성장이 기대됨.

  ### 다른 표현 제안

  - 학업과 생활면에서 꾸준한 성장을 보이며 특히 과학 분야에서 탐구력과 창의성이 돋보임.
  - 자신의 생각을 논리적으로 표현하고 타인의 의견을 경청하는 균형 잡힌 의사소통 능력을 지님.
  - 도전적인 과제에 적극적으로 임하며 실패를 두려워하지 않는 긍정적인 학습 태도가 인상적임.

  ## 예시 3

  > 강한 현실감각으로 타협책을 모색하고 문제를 해결하는 능력이 뛰어남. 적응을 잘하고 친구를 좋아하며 수업 외 다양한 활동까지 학교 생활 모든 면을 즐김. 순발력이 뛰어나며 기억력이 좋고, 자신의 이야기를 솔직하게 표현하고 의사 표현이 확실함. 때로는 규칙에 얽매이기 보다는 자신의 의견을 주장하여 관철시키려는 경향이 있음. 학교생활에 전반적으로 즐겁게 생활하고 있으며, 긍정적인 생활 태도로 주변에 긍정적 분위기를 전파하는 매력적인 학생임.

  ### 다른 표현 제안

  - 학급 활동과 행사에서 주도적인 역할을 수행하며 리더십을 발휘함.
  - 문제 해결 과정에서 창의적이고 논리적인 사고력을 보여줌.
  - 타인의 감정을 이해하고 공감하는 능력이 뛰어나며 협동심이 돋보임.

  ${outputExample ? `## 사용자 입력 예시\n\n다음은 사용자가 직접 입력한 행발 예시입니다. 예시의 문장 흐름 및 형식, 스타일을 참고해 작성하되 표현을 그대로 따라 사용하지 마세요.\n\n${outputExample}` : ''}
`
